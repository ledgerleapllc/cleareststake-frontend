(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{Ly2A:function(e,t,s){"use strict";s.r(t);var r=s("nKUr"),a=s("1OyB"),c=s("vuIU"),n=s("JX7q"),i=s("Ji7U"),o=s("md7G"),d=s("foSv"),l=s("rePB"),u=s("q1tI"),p=s("/MKj"),b=s("55Ip"),h=s("Ty5D"),j=s("s/m+"),f=s("e+cM"),m=s("ZpDd"),O=s("YW6W"),x=s("LADp");s("YrYJ");function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return Object(o.a)(this,s)}}var y=function(e){Object(i.a)(s,e);var t=v(s);function s(e){var r;return Object(a.a)(this,s),r=t.call(this,e),Object(l.a)(Object(n.a)(r),"submit",(function(e){e.preventDefault(),r.setState({errorMessage:""},(function(){r.submitCore()}))})),r.state={code:"",user:{},password:"",password_confirm:"",errorMessage:"",verified:!1},r}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.code;this.props.dispatch(Object(x.l)(t,(function(){e.props.dispatch(Object(m.P)())}),(function(s){e.props.dispatch(Object(m.y)()),s&&s.user&&e.setState({code:t,user:s.user,verified:s.verified||!1})})))}},{key:"inputField",value:function(e,t){this.setState(Object(l.a)({errorMessage:""},t,e.target.value))}},{key:"submitCore",value:function(){var e=this,t=this.state,s=t.password,r=t.password_confirm,a=t.user,c=t.code;if(s&&r)if(s==r)if(O.a.checkPassword(s)){var n={userId:a.id,code:c,password:s};this.props.dispatch(Object(x.h)(n,(function(){e.props.dispatch(Object(m.P)())}),(function(){e.props.dispatch(Object(m.y)())})))}else this.setState({errorMessage:"Please use a password with at least 8 characters including at least one number, one letter and one symbol"});else this.setState({errorMessage:"Password doesn't match"});else this.setState({errorMessage:"Please input password"})}},{key:"render",value:function(){var e=this,t=this.state,s=t.user,a=t.password,c=t.password_confirm,n=t.errorMessage,i=t.verified;return s&&s.id?i?Object(r.jsx)("div",{id:"invitation-page",children:Object(r.jsxs)("p",{children:["This link has already been activated. Please"," ",Object(r.jsx)(b.b,{to:"/login",children:"log in"})," instead."]})}):Object(r.jsx)("div",{id:"invitation-page",children:Object(r.jsx)("div",{className:"white-box",children:Object(r.jsxs)("form",{method:"post",action:"",onSubmit:this.submit,children:[Object(r.jsx)(f.f,{type:"text"}),Object(r.jsx)(f.f,{type:"password"}),Object(r.jsx)(j.Fade,{delay:500,duration:1e3,right:!0,distance:"20px",children:Object(r.jsx)("h2",{className:"text-center",children:"You're Invited"})}),Object(r.jsx)(j.Fade,{delay:200,duration:500,bottom:!0,distance:"20px",children:Object(r.jsxs)("h3",{className:"text-center mt-4 mb-3",children:[s.first_name," ",s.last_name]})}),Object(r.jsx)(j.Fade,{delay:200,duration:500,bottom:!0,distance:"20px",children:Object(r.jsxs)("p",{className:"text-center font-size-14 mb-4",children:["Welcome to your Casper token tracking portal. This portal will help manage your balance of Casper and its associated value.",Object(r.jsx)("br",{})," ",Object(r.jsx)("br",{}),"Please enter a password below to claim your"," ",O.a.formatNumber(s.balance)," Casper token."]})}),Object(r.jsx)(j.Fade,{delay:200,duration:500,bottom:!0,distance:"20px",children:Object(r.jsx)("div",{className:"c-form-row",children:Object(r.jsx)(f.c,{type:"password",required:!0,placeholder:"Password *",value:a,onChange:function(t){return e.inputField(t,"password")},height:"40px"})})}),Object(r.jsx)(j.Fade,{delay:200,duration:500,bottom:!0,distance:"20px",children:Object(r.jsx)("div",{className:"c-form-row",children:Object(r.jsx)(f.c,{type:"password",required:!0,placeholder:"Confirm Password *",value:c,onChange:function(t){return e.inputField(t,"password_confirm")},height:"40px"})})}),n?Object(r.jsx)("p",{className:"font-size-14 mt-3 text-danger",children:n}):null,Object(r.jsx)(j.Fade,{delay:200,duration:500,bottom:!0,distance:"20px",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Activate account & claim my token"})})]})})}):null}}]),s}(u.Component);t.default=Object(p.b)((function(){return{}}))(Object(h.g)(y))}}]);