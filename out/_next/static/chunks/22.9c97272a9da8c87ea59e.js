(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{R48a:function(e,s,t){"use strict";t.r(s);var a=t("nKUr"),c=t("1OyB"),r=t("vuIU"),i=t("JX7q"),n=t("Ji7U"),l=t("md7G"),o=t("foSv"),d=t("rePB"),p=t("q1tI"),u=t("/MKj"),h=t("Ty5D"),j=t("e+cM"),b=t("ZpDd"),m=t("YW6W"),w=t("LADp");t("ASB/");function O(e){var s=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=Object(o.a)(e);if(s){var c=Object(o.a)(this).constructor;t=Reflect.construct(a,arguments,c)}else t=a.apply(this,arguments);return Object(l.a)(this,t)}}var f=function(e){Object(n.a)(t,e);var s=O(t);function t(e){var a;return Object(c.a)(this,t),a=s.call(this,e),Object(d.a)(Object(i.a)(a),"changeEmail",(function(e){e.preventDefault();var s=a.state.email,t=a.props.authUser;if(m.a.validateEmail(s))if(s!=t.email){var c={email:s};a.props.dispatch(Object(w.b)(c,(function(){a.props.dispatch(Object(b.P)())}),(function(){a.props.dispatch(Object(b.y)())})))}else a.props.dispatch(Object(b.O)("Please input different email address"));else a.props.dispatch(Object(b.O)("Please input valid email address"))})),Object(d.a)(Object(i.a)(a),"changePassword",(function(e){e.preventDefault();var s=a.state,t=s.password,c=s.new_password,r=s.new_password_confirm;if(t&&c&&r)if(c==r)if(m.a.checkPassword(t)&&m.a.checkPassword(c)){var i={password:t,new_password:c};a.props.dispatch(Object(w.c)(i,(function(){a.props.dispatch(Object(b.P)())}),(function(e){a.props.dispatch(Object(b.y)()),e&&e.success&&a.setState({password:"",new_password:"",new_password_confirm:""})})))}else a.props.dispatch(Object(b.O)("Please use a password with at least 8 characters including at least one number, one letter and one symbol"));else a.props.dispatch(Object(b.O)("New password does not match"));else a.props.dispatch(Object(b.O)("Please input all the password values"))})),a.state={email:"",password:"",new_password:"",new_password_confirm:""},a}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.authUser;e&&e.id&&this.initValues()}},{key:"componentDidUpdate",value:function(e){var s=this.props.authUser,t=e.authUser;t&&t.id||!s||!s.id||this.initValues()}},{key:"initValues",value:function(){var e=this.props.authUser;this.setState({email:e.email})}},{key:"inputField",value:function(e,s){this.setState(Object(d.a)({},s,e.target.value))}},{key:"render",value:function(){var e=this,s=this.props.authUser,t=this.state,c=t.email,r=t.password,i=t.new_password,n=t.new_password_confirm;return s&&s.id?Object(a.jsx)("div",{id:"app-settings-page",children:Object(a.jsxs)("div",{className:"c-container small",children:[Object(a.jsx)("h2",{className:"mb-4",children:"Settings"}),Object(a.jsx)(j.f,{type:"email",name:"email"}),Object(a.jsx)(j.f,{type:"password",name:"password"}),Object(a.jsx)("h3",{className:"mb-3",children:"Change Email"}),Object(a.jsx)("div",{className:"c-form-row",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8",children:[Object(a.jsx)("label",{children:"Email Address"}),Object(a.jsx)(j.c,{type:"email",value:c,onChange:function(s){return e.inputField(s,"email")},height:"40px",required:!0})]})})}),Object(a.jsx)("div",{className:"spacer mb-4"}),Object(a.jsx)("a",{className:"btn btn-light",onClick:this.changeEmail,children:"Submit"}),Object(a.jsx)("h3",{className:"mt-5 mb-3",children:"Change Password"}),Object(a.jsx)("div",{className:"c-form-row",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8",children:[Object(a.jsx)("label",{children:"Current Password"}),Object(a.jsx)(j.c,{type:"password",value:r,onChange:function(s){return e.inputField(s,"password")},height:"40px",required:!0})]})})}),Object(a.jsx)("div",{className:"c-form-row",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8",children:[Object(a.jsx)("label",{children:"New Password"}),Object(a.jsx)(j.c,{type:"password",value:i,onChange:function(s){return e.inputField(s,"new_password")},height:"40px",required:!0})]})})}),Object(a.jsx)("div",{className:"c-form-row",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8",children:[Object(a.jsx)("label",{children:"Confirm New Password"}),Object(a.jsx)(j.c,{type:"password",value:n,onChange:function(s){return e.inputField(s,"new_password_confirm")},height:"40px",required:!0})]})})}),Object(a.jsx)("div",{className:"spacer mb-4"}),Object(a.jsx)("a",{className:"btn btn-light",onClick:this.changePassword,children:"Submit"})]})}):null}}]),t}(p.Component);s.default=Object(u.b)((function(e){return{authUser:e.global.authUser}}))(Object(h.g)(f))}}]);